# Configuration version (required)
version: 1.2.1

# Cache settings: Set to true to enable caching
cache: true

fileStrategy: "s3"

# Global tool configuration - make OpenAI image generation available to ALL endpoints
includedTools:
  - "image_gen_oai"
  - "file_search"
  - "retrieval"
  # - "web_search"

# File configuration for RAG
fileConfig:
  endpoints:
    openAI:
      fileLimit: 10000
      fileSizeLimit: 20    # MB per file
      totalSizeLimit: 100000  # MB total
      supportedMimeTypes:
        - "application/pdf"
        - "text/plain"
        - "text/markdown"
        - "application/vnd.openxmlformats-officedocument.wordprocessingml.document"
        - "application/msword"
        - "text/csv"
      # Disable OCR processing - use RAG instead
      disabled: false

  # Global file configuration
  serverFileSizeLimit: 100000
  avatarSizeLimit: 2

# Model Specifications - Define custom models with display labels
modelSpecs:
  enforce: true  # Set to true if you want ONLY these models available
  prioritize: true # Prioritize these models in the UI
  list:
    - name: "wood-fiber-expert"
      label: "Wood Fiber Expert"
      default: true
      description: "Expert in materials science, specifically in wood fiber"
      preset:
        endpoint: "agents"
        agent_id: "agent_cPIEakEUvERU7mGD5i_Z1"
      showIconInMenu: true
      showIconInHeader: true


# Interface Configuration
interface:
  fileSearch: true
  fileCitations: true
  endpointsMenu: false
  modelSelect: false
  parameters: false
  sidePanel: true
  presets: false
  prompts: true
  bookmarks: true
  multiConvo: true
  agents: true
  plugins: true
  runCode: false

# Registration settings
registration:
  socialLogins: ['github', 'google', 'discord', 'openid', 'facebook', 'apple']

# Web Search Configuration
# webSearch:
#   searchProvider: "serper"
#   scraperType: "firecrawl"
#   rerankerType: "cohere"
#   safeSearch: 2      # 0=off, 1=moderate, 2=strict

# Endpoints Configuration
endpoints:
  # Assistants configuration - hide code interpreter
  assistants:
    # NOTE: "code_interpreter" is excluded to hide code interpreter for assistants
    capabilities: ["retrieval", "actions", "tools"]
    # Alternative: to show code interpreter for assistants, add "code_interpreter" to the array:
    # capabilities: ["code_interpreter", "retrieval", "actions", "tools"]

  google:
    # This ensures the google endpoint is properly configured
    # Your environment variables (GOOGLE_KEY, etc.) will still be used
    models:
      default: ["gemini-2.5-flash", "gemini-2.5-pro"]  # Available models when selecting Google endpoint
      fetch: false  # Don't fetch additional models since we have specific ones defined

  openAI:
    # This ensures the openAI endpoint is properly configured
    # Your environment variables (OPENAI_API_KEY, etc.) will still be used
    models:
      default: ["gpt-4o-mini", "gpt-4o", "o3-mini", "o3"]  # Available models when selecting OpenAI endpoint
      fetch: false  # Don't fetch additional models since we have specific ones defined

  anthropic:
    # This ensures the anthropic endpoint is properly configured
    # Your environment variables (ANTHROPIC_API_KEY, etc.) will still be used
    models:
      default: ["claude-3-5-sonnet-latest", "claude-3-7-sonnet-latest"]  # Available models when selecting Anthropic endpoint
      fetch: false  # Don't fetch additional models since we have specific ones defined

  custom:
    # Custom endpoint configuration for Grok 4
    - name: "xAI"
      apiKey: "${GROK_API_KEY}"
      baseURL: "https://api.x.ai/v1"
      models:
        default: ["grok-4-0709"]
        fetch: false
      summarize: false
      modelDisplayLabel: "Grok 4"
      headers:
        "Content-Type": "application/json"
        "User-Agent": "LibreChat"

  gptPlugins:
    # Enable the plugins endpoint for tools like DALL-E
    disabled: false
    # Make gptPlugins easily accessible for image generation
    availableAgents: ['classic', 'functions']
    plugins:
      # Auto-enable image generation tool for all gptPlugins conversations
      image_gen_oai: true

  # Enable agents with image generation capabilities
  agents:
    disableBuilder: false # Allow users to build agents
    recursionLimit: 25
    maxRecursionLimit: 100
    # Agent Capabilities available to all users (includes "tools" which enables image generation)
    # NOTE: "execute_code" is excluded to hide code interpreter for agents
    capabilities: ["file_search", "web_search", "actions", "tools"]
    # Alternative: to show code interpreter for agents, add "execute_code" to the array:
    # capabilities: ["execute_code", "file_search", "web_search", "actions", "tools"]
